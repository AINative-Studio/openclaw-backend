"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.StoredProcedureContextImpl = void 0;
const context_1 = require("./context");
class StoredProcedureContextImpl extends context_1.DBOSContextImpl {
    client;
    constructor(client, workflowContext, span, logger, operationName) {
        super(operationName, span, logger, workflowContext);
        this.client = client;
    }
    async query(sql, params) {
        const { rowCount, rows } = await this.client.query(sql, params);
        return { rowCount: rowCount ?? rows.length, rows };
    }
}
exports.StoredProcedureContextImpl = StoredProcedureContextImpl;
//# sourceMappingURL=procedure.js.map